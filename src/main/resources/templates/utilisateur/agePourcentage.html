<html xmlns:th="http://www.thymeleaf.org">
<body>

<h1>Repartition d'age de nos clients</h1>

<div id="piechart"></div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>




<script type="text/javascript" th:inline="javascript" >
    // Load google charts
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);



    /*<![CDATA[*/
    var ageList=new Map();
    var tailleListe= /*[[${tailleListe}]]*/

    ageList= /*[[${liste}]]*/ 'default';





    /*]]>*/

    // Draw the chart and set the chart values


    // for (i=0; i<tailleListe;i++){
    //     console.log('je suis la'+[Object.keys(message)[i],Object.values(message)[i]])
    // }

    var dataArray = [ ['Task', 'ages between 16 and 90 group by 10'] ];
    console.log(dataArray);
     dataArray = dataArray.concat(ageList = [["default","default" ]] );
    console.log(dataArray);

    function drawChart() {
        // var data = google.visualization.arrayToDataTable([
        //     ['Task', 'ages between 16 and 90 group by 10'],
        //     ['age betweeen 20-30',5 ]
        //
        // ]);




        var data = google.visualization.arrayToDataTable(dataArray);

        // Optional; add a title and set the width and height of the chart
        var options = {'title':'Ages en pourcent de 16 a 90 ans', 'width':550, 'height':400,is3D: true};

        // Display the chart inside the <div> element with id="piechart"
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
    }
</script>

</body>
</html>